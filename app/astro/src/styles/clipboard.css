/* Grid + cards */
.clip { display: grid; gap: 1rem; inline-size: 100%; max-inline-size: 100%; }
.clip-wrap { inline-size: 100%; max-inline-size: 100%; overflow: hidden; }

.clip-block {
    border: 1px solid var(--border);
    border-radius: .8rem;
    background: #fff;
    overflow: hidden;                 /* prevent inner content from widening the page */
}

.clip-head {
    display: flex; gap: .75rem; align-items: center; justify-content: space-between;
    padding: .6rem .8rem;
    border-bottom: 1px solid var(--border);
    background: var(--bg-soft);
}

.clip-titles { display: flex; align-items: center; gap: .5rem; }
.clip-title { margin: 0; font-size: 1rem; }
.clip-lang {
    display: inline-block; font-size: .8rem; padding: .1rem .4rem;
    border: 1px solid var(--border); border-radius: .5rem;
    background: #fff; color: var(--muted);
}

.clip-toolbar {
    display: flex; align-items: center; gap: .4rem;
    flex-wrap: wrap;                   /* keep buttons from pushing width */
}

.clip-btn {
    padding: .45rem .7rem; border: none; border-radius: .6rem;
    background: #000; color: #fff; cursor: pointer;
}
.clip-btn:hover { opacity: .95 }
.clip-btn.ghost { background: var(--bg-soft); color: var(--text); border: 1px solid var(--border); }
.clip-status { min-width: 6.5ch; color: var(--muted) }

.clip-file {
    display: inline-block; font-size: .8rem; padding: .1rem .45rem;
    border: 1px solid var(--border); border-radius: .5rem;
    background: #fff; color: var(--muted); cursor: pointer;
}
.clip-file:hover { color: var(--text); background: #fff }

/* --- Code area: hardening against horizontal overflow on mobile --- */
.clip-codewrap {
    display: block;
    inline-size: 100%;
    max-inline-size: 100%;
    overflow: auto;                    /* scroll lives here, not on body */
    -webkit-overflow-scrolling: touch;
    scrollbar-gutter: stable both-edges;
}

.clip-pre {
    margin: 0;
    padding: .85rem 1rem;
    white-space: pre;                  /* preserve indentation by default */
    overflow: auto;                    /* allow horizontal scroll inside block */
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    font-size: .95rem;
    line-height: 1.45;
}

/* Let very long tokens/URLs wrap if needed so they don't widen the page */
.clip-code {
    display: block;
    width: 100%;
    min-width: 0;                      /* allow shrinking within grid */
    white-space: pre-wrap;             /* wrap long tokens/URLs */
    overflow-wrap: anywhere;
    word-break: break-word;
}

/* When line numbers are enabled, prevent the grid from forcing overflow */
.clip-code.has-lines {
    display: grid;
    grid-template-columns: auto minmax(0, 1fr); /* second column can shrink */
    column-gap: .75rem;
    align-items: start;
}

.clip-lnums {
    padding: .85rem 0 .85rem .75rem;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    font-size: .95rem;
    line-height: 1.45;
    text-align: right;
    color: var(--muted);
    user-select: none;
}
.clip-lnums > span { display: block; height: 1.45em }

/* Accessibility niceties on narrow viewports */
@media (max-width: 480px) {
    .clip-pre { padding: .75rem .85rem; }
    .clip-head { padding: .55rem .75rem; }
    .clip-toolbar { gap: .35rem; }
}
