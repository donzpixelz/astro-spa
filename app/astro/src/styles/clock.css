/* =========================================================
   clock.css — visible time, narrow powder halo, no extra rules
   ========================================================= */

/* Container for the clock block */
.site-clock{
    display:flex;
    flex-direction:column;
    align-items:center;
    margin:.20rem 0 .35rem;
    position:relative;
}

/* We do NOT want a second rule under the nav here. */
.site-clock .clock-line{ display:none !important; }

/* Shell that carries the halo + text */
.clock-shell{
    position:relative;
    display:grid;
    place-items:center;

    width:min(80%, 720px);
    margin:.20rem auto 0;

    /* give breathing room so text is never clipped */
    padding: 8px 0 14px;

    /* make sure nothing “sticks up” above the top edge */
    overflow:hidden;

    /* kill any legacy bar/box-shadow */
    background:transparent !important;
    box-shadow:none !important;
    border:0 !important;
}

/* Powder halo — a soft, NARROW bloom (not a wide strip).
   It starts lower, so it can’t reach the overline above. */
.clock-shell::before{
    content:"";
    position:absolute;
    /* push the bloom down enough to never touch the top edge */
    top:18px;
    left:50%;
    transform:translateX(-50%);

    width:clamp(260px, 44%, 460px);
    height:120px;

    z-index:0;
    pointer-events:none;

    background:
            radial-gradient(ellipse at 50% 32%,
            rgba(52,102,203,.35) 0%,
            rgba(52,102,203,.18) 30%,
            rgba(52,102,203,.08) 55%,
            rgba(52,102,203,0) 75%);
    filter:blur(24px);

    /* Trim so it never reads like a hard bar across */
    -webkit-mask-image: radial-gradient(60% 70% at 50% 36%, #000 48%, transparent 80%);
    mask-image: radial-gradient(60% 70% at 50% 36%, #000 48%, transparent 80%);
}

/* The actual time text — make sure it’s always on top & legible */
.clock-time{
    position:relative;
    z-index:2;                           /* above halo */
    font-family:'Orbitron', ui-monospace, monospace !important;
    font-weight:700;
    font-size:1.35rem;                   /* slightly larger for readability */
    letter-spacing:.08em;
    color:var(--clock-led, #000);        /* falls back to black if var missing */
    text-shadow:
            0 0 14px var(--clock-glow-strong, rgba(52,102,203,.35)),
            0 10px 28px rgba(52,102,203,.25);
    padding:0 12px;                      /* avoid AM/PM clipping on phones */
    white-space:nowrap;
    text-align:center;
}

/* Optional inline date/time line pieces (kept for compatibility) */
.clock-line{
    display:inline-flex;
    align-items:baseline;
    gap:.6ch;
    white-space:nowrap;
    max-width:100%;
}
.clock-sep{ opacity:.65 }
.clock-date{
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    font-weight:600;
    font-size:clamp(.9rem,2.6vw,1rem);
    line-height:1;
    color:var(--text, #111);
}

/* Kill any stray borders a layout might inject around here */
.site-clock,
.clock-shell,
.clock-time{ border:0 !important; }
.site-clock + *{ border-top:0 !important; }

/* tiny screens: slightly tighter gaps if you render date pieces */
@media (max-width:360px){
    .clock-line{ gap:.4ch; }
}


/* --- Mobile cut-off hot-fix (safe, desktop unchanged) --- */
@media (max-width: 430px) {
    .clock-shell{
        /* let the clock use the full viewport width and keep inner padding */
        width: 100vw;
        padding-inline: 14px;
        box-sizing: border-box;
    }

    .clock-time{
        /* slightly more flexible sizing + a touch less tracking */
        font-size: clamp(14px, 6vw, 20px);
        letter-spacing: .06em;
        padding-inline: 12px;   /* ensures AM/PM never kisses the edge */
        overflow: visible;      /* belt & suspenders */
    }

    /* keep the halo narrower so it never suggests a hard bar on small screens */
    .clock-shell::before{
        width: min(92%, 360px);
    }
}
