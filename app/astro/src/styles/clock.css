/* =========================================================
   clock.css — narrow powder halo, no extra rules
   (drop-in replacement)
   ========================================================= */

/* Wrap + alignment */
.site-clock{
    display:flex;
    flex-direction:column;
    align-items:center;
    margin:.20rem 0 .35rem;
    position:relative;
}

/* If any hr/line was injected for the clock area, hide it.
   (We keep the title’s underline; we just don’t want a second rule here.) */
.site-clock .clock-line{ display:none !important; }

/* The shell that carries the halo and the text */
.clock-shell{
    position:relative;
    display:grid;
    place-items:center;

    /* Keep the clock visually centered and limited in width */
    width:min(80%, 720px);
    margin:.20rem auto 0;

    /* Hard guard so no blue can ever touch the area above */
    overflow:hidden;
    padding-top:16px;

    /* Nuke any legacy backgrounds/box-shadows that made a “bar” */
    background:transparent !important;
    box-shadow:none !important;
    border:0 !important;
}

/* Hard top guard (white strip) that lives INSIDE the clock area */
.clock-shell::after{
    content:"";
    position:absolute;
    top:0;
    left:0;
    right:0;
    height:20px;                    /* guard thickness */
    background:var(--bg, #fff);     /* page background color */
    z-index:2;                      /* above halo, below text */
    pointer-events:none;
}

/* Powder halo — soft, centered bloom (never full width) */
.clock-shell::before{
    content:"";
    position:absolute;
    top:14px;                       /* below the guard */
    left:50%;
    transform:translateX(-50%);

    /* Make it narrow so it reads like a bloom, not a strip */
    width:clamp(240px, 42%, 420px);
    height:120px;

    z-index:0;
    pointer-events:none;

    /* soft center → quick falloff */
    background:
            radial-gradient(ellipse at 50% 32%,
            rgba(52,102,203,.35) 0%,
            rgba(52,102,203,.18) 30%,
            rgba(52,102,203,.08) 55%,
            rgba(52,102,203,0) 75%);
    filter:blur(26px);

    /* Trim sides/top so the shape never looks like a hard bar */
    -webkit-mask-image: radial-gradient(60% 70% at 50% 36%, #000 48%, transparent 80%);
    mask-image: radial-gradient(60% 70% at 50% 36%, #000 48%, transparent 80%);
}

/* Clock text (stays crisp over bloom) */
.clock-time{
    position:relative;
    z-index:3;
    font-family:'Orbitron', ui-monospace, monospace !important;
    font-weight:700;
    font-size:1.25rem;
    letter-spacing:.08em;
    color:var(--clock-led);
    text-shadow:0 0 14px var(--clock-glow-strong), 0 10px 28px rgba(52,102,203,.25);
    padding:0 12px;                 /* avoids AM/PM clipping on phones */
    white-space:nowrap;
    text-align:center;
}

/* If you render date/time pieces inline these stay as-is */
.clock-line{
    display:inline-flex;
    align-items:baseline;
    gap:.6ch;
    white-space:nowrap;
    max-width:100%;
}
.clock-sep{ opacity:.65 }
.clock-date{
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    font-weight:600;
    font-size:clamp(.9rem,2.6vw,1rem);
    line-height:1;
    color:var(--text);
}

/* Kill any stray borders that a layout file might inject here */
.site-clock,
.clock-shell,
.clock-time{ border:0 !important; }
.site-clock + *{ border-top:0 !important; }

/* tighter gaps on tiny screens */
@media (max-width:360px){
    .clock-line{ gap:.4ch; }
}
