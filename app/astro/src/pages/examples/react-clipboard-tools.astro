---
import BaseLayout from "../../layouts/BaseLayout.astro";
import ClipboardTools from "../../components/examples/ClipboardTools.jsx";

const snippets = [
    {
        id: "bash-update",
        title: "Deploy helper (zsh function)",
        language: "bash",
        filename: "~/.zshrc",
        lineNumbers: true,
        code: `update-astro() {
  local msg="\${1:-"Update Astro"}"
  git add .
  git commit -m "\${msg}"
  git push origin main
}`,
    },
    {
        id: "js-fetch",
        title: "Tiny fetch wrapper",
        language: "javascript",
        filename: "src/lib/http.js",
        lineNumbers: true,
        code: `export async function getJSON(url) {
  const res = await fetch(url, { headers: { "Accept": "application/json" }});
  if (!res.ok) throw new Error(\`HTTP \${res.status}\`);
  return res.json();
}`,
    },
    {
        id: "html-card",
        title: "Card pattern (HTML)",
        language: "html",
        filename: "src/components/Card.html",
        lineNumbers: false,
        code: `<div class="card">
  <h3>Card title</h3>
  <p>Body text…</p>
</div>`,
    },
];
---
<BaseLayout title="Clipboard Tools · Examples" description="Copy code buttons, deep links, line numbers, and a copyable filename badge">
    <section class="stack">
        <h1>“Copy code” / Clipboard Tools</h1>
        <p class="muted">
            Copy code or a deep link to any snippet. Click the filename badge to copy the file name.
            Toggle line numbers per snippet via <code>lineNumbers: true</code>.
        </p>

        {/*
      NOTE: The extra wrapper class `clip-wrap` prevents any internal element
      from widening the page on small screens. It pairs with rules in clipboard.css.
    */}
        <div class="card clip-wrap">
            <ClipboardTools client:load snippets={snippets} />
        </div>
    </section>
</BaseLayout>
