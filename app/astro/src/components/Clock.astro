---
/* Clock.astro â€” self-contained, no inline styles */
---
<div class="clock-shell" aria-label="Current time" aria-live="polite">
    <span class="clock-time">--:--:-- --</span>
</div>

<!-- Keep this inline so document.currentScript is reliable -->
<script is:inline>
    // The script tag sits immediately after .clock-shell
    const el = document.currentScript.previousElementSibling.querySelector('.clock-time');

    function updateClock() {
        const now = new Date();
        let h = now.getHours();
        const m = String(now.getMinutes()).padStart(2, '0');
        const s = String(now.getSeconds()).padStart(2, '0');
        const ampm = h >= 12 ? 'PM' : 'AM';
        h = h % 12 || 12;
        el.textContent = `${String(h).padStart(2,'0')}:${m}:${s} ${ampm}`;
    }

    updateClock();
    setInterval(updateClock, 1000);
</script>
